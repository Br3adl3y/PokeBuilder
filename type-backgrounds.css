/* ============================================
   REUSABLE ANIMATION SYSTEMS
   ============================================ */
/* ============================================
   USAGE GUIDE
   ============================================
   
   LENS FLARE TYPES (add both classes):
   <div class="type-bg-bug lens-flare">Content</div>
   <div class="type-bg-dragon lens-flare">Content</div>
   <div class="type-bg-fighting lens-flare">Content</div>
   <div class="type-bg-normal lens-flare">Content</div>
   <div class="type-bg-poison lens-flare">Content</div>
   <div class="type-bg-rock lens-flare">Content</div>
   
   SMOKE EFFECT TYPES (add both classes):
   <div class="type-bg-dark smoke-effect">Content</div>
   <div class="type-bg-ghost smoke-effect">Content</div>
   <div class="type-bg-ground smoke-effect">Content</div>
   
   STANDARD TYPES (single class):
   <div class="type-bg-fairy">Content</div>
   <div class="type-bg-flying">Content</div>
   <div class="type-bg-grass">Content</div>
   <div class="type-bg-ice">Content</div>
   
   ============================================ */

/* Ensure content stays above effects */
[class*="type-bg-"] > * {
    position: relative;
    z-index: 2;
}

/* ============================================
   REUSABLE ANIMATION SYSTEMS
   ============================================ */

/* LENS FLARE PROTOCOL - Add .lens-flare class to any type */
@keyframes lens-flare-1 {
    0% {
        opacity: 0;
        top: 15%;
        right: 20%;
    }
    10% {
        opacity: 0.6;
        top: 15%;
        right: 20%;
    }
    40% {
        opacity: 0.6;
        top: 15%;
        right: 20%;
    }
    50% {
        opacity: 0;
        top: 15%;
        right: 20%;
    }
    51% {
        opacity: 0;
        top: 25%;
        right: 70%;
    }
    60% {
        opacity: 0.5;
        top: 25%;
        right: 70%;
    }
    90% {
        opacity: 0.5;
        top: 25%;
        right: 70%;
    }
    100% {
        opacity: 0;
        top: 25%;
        right: 70%;
    }
}

@keyframes lens-flare-2 {
    0% {
        opacity: 0;
        bottom: 20%;
        left: 15%;
    }
    15% {
        opacity: 0.5;
        bottom: 20%;
        left: 15%;
    }
    45% {
        opacity: 0.5;
        bottom: 20%;
        left: 15%;
    }
    50% {
        opacity: 0;
        bottom: 20%;
        left: 15%;
    }
    51% {
        opacity: 0;
        bottom: 35%;
        left: 65%;
    }
    65% {
        opacity: 0.6;
        bottom: 35%;
        left: 65%;
    }
    95% {
        opacity: 0.6;
        bottom: 35%;
        left: 65%;
    }
    100% {
        opacity: 0;
        bottom: 35%;
        left: 65%;
    }
}

.lens-flare::before {
    content: '';
    position: absolute;
    width: 150px;
    height: 150px;
    background: radial-gradient(
        circle at center,
        transparent 0%,
        var(--flare-color-1, rgba(255, 255, 255, 0.15)) 40%,
        var(--flare-color-2, rgba(255, 255, 255, 0.35)) 70%,
        var(--flare-color-3, rgba(255, 255, 255, 0.5)) 100%
    );
    border-radius: 50%;
    filter: blur(0px);
    animation: lens-flare-1 12s ease-in-out infinite;
    pointer-events: none;
    z-index: 1;
}

.lens-flare::after {
    content: '';
    position: absolute;
    width: 120px;
    height: 120px;
    background: radial-gradient(
        circle at center,
        transparent 0%,
        var(--flare-color-1, rgba(255, 255, 255, 0.12)) 40%,
        var(--flare-color-2, rgba(255, 255, 255, 0.3)) 70%,
        var(--flare-color-3, rgba(255, 255, 255, 0.45)) 100%
    );
    border-radius: 50%;
    filter: blur(0px);
    animation: lens-flare-2 14s ease-in-out infinite;
    animation-delay: 2s;
    pointer-events: none;
    z-index: 1;
}

/* SMOKE EFFECT PROTOCOL - Add .smoke-effect class to any type */
@keyframes smoke-drift-1 {
    0% {
        opacity: 0;
        left: -25%;
    }
    10% {
        opacity: calc(var(--smoke-opacity-1, 0.8) * 0.5);
    }
    90% {
        opacity: calc(var(--smoke-opacity-1, 0.7) * 0.5);
    }
    100% {
        opacity: 0;
        left: 115%;
    }
}

@keyframes smoke-drift-2 {
    0% {
        opacity: 0;
        left: -30%;
    }
    15% {
        opacity: calc(var(--smoke-opacity-2, 0.85) * 0.5);
    }
    85% {
        opacity: calc(var(--smoke-opacity-2, 0.75) * 0.5);
    }
    100% {
        opacity: 0;
        left: 120%;
    }
}

.smoke-effect::before {
    content: '';
    position: absolute;
    bottom: 0;
    width: calc(var(--smoke-width-1, 60%) * 2);
    height: calc(var(--smoke-height-1, 45%) * 2);
    background: radial-gradient(
        ellipse 100% 80% at 50% 70%,
        var(--smoke-color-1, rgba(15, 15, 35, 0.9)) 0%,
        var(--smoke-color-2, rgba(25, 25, 45, 0.75)) 25%,
        var(--smoke-color-3, rgba(35, 35, 55, 0.6)) 50%,
        var(--smoke-color-4, rgba(45, 45, 65, 0.4)) 75%,
        transparent 100%
    );
    filter: blur(30px);
    animation: smoke-drift-1 var(--smoke-duration-1, 20s) linear infinite;
    pointer-events: none;
    z-index: 1;
}

.smoke-effect::after {
    content: '';
    position: absolute;
    bottom: 5%;
    width: calc(var(--smoke-width-2, 50%) * 2);
    height: calc(var(--smoke-height-2, 40%) * 2);
    background: radial-gradient(
        ellipse 100% 75% at 50% 60%,
        var(--smoke-color-1, rgba(20, 20, 40, 0.85)) 0%,
        var(--smoke-color-2, rgba(30, 30, 50, 0.7)) 30%,
        var(--smoke-color-3, rgba(40, 40, 60, 0.5)) 60%,
        var(--smoke-color-4, rgba(50, 50, 70, 0.3)) 80%,
        transparent 100%
    );
    filter: blur(25px);
    animation: smoke-drift-2 var(--smoke-duration-2, 15s) linear infinite;
    animation-delay: 7s;
    pointer-events: none;
    z-index: 1;
}

/* ============================================
   POKEMON TYPE BACKGROUNDS
   ============================================ */

/* ========
   BUG TYPE
   ======== */
.type-bg-bug {
    background: linear-gradient(180deg, #A0D9B4 0%, #7FC8A9 100%) !important;
    background-image: url('https://github.com/PokeMiners/pogo_assets/blob/master/Images/Catch%20Card/CatchCard_TypeBG_Bug.png?raw=true') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    position: relative;
    overflow: hidden;
    --flare-color-1: rgba(255, 255, 255, 0.15);
    --flare-color-2: rgba(160, 217, 180, 0.6);
    --flare-color-3: rgba(127, 200, 169, 0.85);
}

/* =========
   DARK TYPE
   ========= */
.type-bg-dark {
    background: linear-gradient(180deg, #0a0a0a 0%, #000000 100%) !important;
    background-image: url('https://github.com/PokeMiners/pogo_assets/blob/master/Images/Catch%20Card/CatchCard_TypeBG_Dark.png?raw=true') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    position: relative;
    overflow: hidden;
    --smoke-color-1: rgba(15, 15, 35, 0.9);
    --smoke-color-2: rgba(25, 25, 45, 0.75);
    --smoke-color-3: rgba(35, 35, 55, 0.6);
    --smoke-color-4: rgba(45, 45, 65, 0.4);
}

/* ===========
   DRAGON TYPE
   =========== */
.type-bg-dragon {
    background: radial-gradient(ellipse at center, #6b7d2f 0%, #5b6d1f 50%, #4b5d1f 100%) !important;
    background-image: url('https://github.com/PokeMiners/pogo_assets/blob/master/Images/Catch%20Card/CatchCard_TypeBG_Dragon.png?raw=true') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    position: relative;
    overflow: hidden;
    --flare-color-1: rgba(240, 220, 80, 0.15);
    --flare-color-2: rgba(255, 240, 100, 0.6);
    --flare-color-3: rgba(250, 230, 90, 0.85);
}

/* ==========
   FAIRY TYPE
   ========== */
.type-bg-fairy {
    background: linear-gradient(180deg, #E8A5D8 0%, #C77AB8 50%, #9B5FA0 100%) !important;
    position: relative;
    overflow: hidden;
}

@keyframes orb-float {
    0%, 100% {
        transform: translate(0, 0);
    }
    33% {
        transform: translate(30px, -40px);
    }
    66% {
        transform: translate(-20px, -20px);
    }
}

@keyframes orb-pulse {
    0%, 100% {
        opacity: 0.7;
        filter: blur(3px);
    }
    50% {
        opacity: 1;
        filter: blur(5px);
    }
}

.type-bg-fairy::before {
    content: '';
    position: absolute;
    top: 30%;
    left: 20%;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: radial-gradient(circle, 
        rgba(255, 105, 180, 1) 0%,
        rgba(255, 105, 180, 0.8) 30%,
        rgba(255, 182, 193, 0.5) 60%,
        transparent 80%);
    animation: orb-float 8s ease-in-out infinite, orb-pulse 3s ease-in-out infinite;    z-index: 1;
}

.type-bg-fairy::after {
    content: '';
    position: absolute;
    top: 60%;
    left: 70%;
    width: 45px;
    height: 45px;
    border-radius: 50%;
    background: radial-gradient(circle, 
        rgba(255, 105, 180, 1) 0%,
        rgba(255, 105, 180, 0.8) 30%,
        rgba(255, 182, 193, 0.5) 60%,
        transparent 80%);
    animation: orb-float 10s ease-in-out infinite, orb-pulse 3.5s ease-in-out infinite;
    animation-delay: 2s, 1s;
    z-index: 1;
}

/* =============
   FIGHTING TYPE
   ============= */
.type-bg-fighting {
    background: linear-gradient(180deg, #8B4513 0%, #D2B48C 100%) !important;
    background-image: url('https://github.com/PokeMiners/pogo_assets/blob/master/Images/Catch%20Card/CatchCard_TypeBG_Fighting.png?raw=true') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    position: relative;
    overflow: hidden;
    --flare-color-1: rgba(255, 255, 255, 0.15);
    --flare-color-2: rgba(255, 240, 200, 0.6);
    --flare-color-3: rgba(255, 230, 180, 0.85);
}

/* ===========
   FLYING TYPE
   =========== */
.type-bg-flying {
    background: linear-gradient(180deg, #87CEEB 0%, #B0E0E6 100%) !important;
    background-image: url('https://github.com/PokeMiners/pogo_assets/blob/master/Images/Catch%20Card/CatchCard_TypeBG_Flying.png?raw=true') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    position: relative;
    overflow: hidden;
}

/* ==========
   GHOST TYPE
   ========== */
.type-bg-ghost {
    background: radial-gradient(circle at 70% 20%, rgba(255, 223, 100, 0.9) 3%, rgba(255, 223, 100, 0.4) 6%, transparent 10%), linear-gradient(180deg, #1a0f2e 0%, #2d1b3d 50%, #0d0515 100%) !important;
    background-image: url('https://github.com/PokeMiners/pogo_assets/blob/master/Images/Catch%20Card/CatchCard_TypeBG_Ghost.png?raw=true') !important;
    position: relative;
    overflow: hidden;
    --smoke-color-1: rgba(200, 200, 220, 0.5);
    --smoke-color-2: rgba(180, 180, 200, 0.4);
    --smoke-color-3: rgba(160, 160, 180, 0.3);
    --smoke-color-4: rgba(140, 140, 160, 0.2);
    --smoke-width-1: 70%;
    --smoke-height-1: 50%;
}

/* ==========
   GRASS TYPE
   ========== */
.type-bg-grass {
    background: linear-gradient(180deg, #A5D9E8 0%, #90C890 65%, #7AC74C 70%, #5FA54C 100%) !important;
    position: relative;
    overflow: hidden;
}

@keyframes leaf-fall-1 {
    0% {
        transform: translate(0, -50px) rotate(0deg);
        opacity: 0;
    }
    10% {
        opacity: 0.8;
    }
    100% {
        transform: translate(80px, 450px) rotate(360deg);
        opacity: 0;
    }
}

@keyframes leaf-fall-2 {
    0% {
        transform: translate(0, -50px) rotate(0deg);
        opacity: 0;
    }
    10% {
        opacity: 0.7;
    }
    100% {
        transform: translate(120px, 450px) rotate(-360deg);
        opacity: 0;
    }
}

.type-bg-grass::before {
    content: '';
    position: absolute;
    top: -30px;
    left: 20%;
    width: 12px;
    height: 20px;
    background: radial-gradient(ellipse, rgba(100, 200, 50, 0.8) 0%, transparent 70%);
    border-radius: 50%;
    animation: leaf-fall-1 8s ease-in infinite;
    z-index: 1;
}

.type-bg-grass::after {
    content: '';
    position: absolute;
    top: -30px;
    left: 60%;
    width: 14px;
    height: 22px;
    background: radial-gradient(ellipse, rgba(120, 220, 70, 0.75) 0%, transparent 70%);
    border-radius: 50%;
    animation: leaf-fall-2 10s ease-in infinite 3s;
    z-index: 1;
}

/* ===========
   GROUND TYPE
   =========== */
.type-bg-ground {
    background: linear-gradient(180deg, #C19A6B 0%, #A0826D 50%, #8B7355 100%) !important;
    background-image: url('https://github.com/PokeMiners/pogo_assets/blob/master/Images/Catch%20Card/CatchCard_TypeBG_Ground.png?raw=true') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    position: relative;
    overflow: hidden;
    --smoke-color-1: rgba(193, 154, 107, 0.7);
    --smoke-color-2: rgba(160, 130, 109, 0.6);
    --smoke-color-3: rgba(139, 115, 85, 0.5);
    --smoke-color-4: rgba(120, 100, 70, 0.3);
    --smoke-opacity-1: 0.6;
    --smoke-opacity-2: 0.7;
}

/* ========
   ICE TYPE
   ======== */
.type-bg-ice {
    background: linear-gradient(180deg, #b3e5fc 0%, #81d4fa 100%) !important;
    background-image: url('https://github.com/PokeMiners/pogo_assets/blob/master/Images/Catch%20Card/CatchCard_TypeBG_Ice.png?raw=true') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    position: relative;
    overflow: hidden;
    /* White and light blue smoke colors */
    --smoke-color-1: rgba(255, 255, 255, 0.7);
    --smoke-color-2: rgba(230, 245, 255, 0.6);
    --smoke-color-3: rgba(200, 230, 255, 0.5);
    --smoke-color-4: rgba(180, 220, 255, 0.3);
    --smoke-opacity-1: 0.5;
    --smoke-opacity-2: 0.6;
}

/* ===========
   NORMAL TYPE
   =========== */
.type-bg-normal {
    background: linear-gradient(180deg, #FFE5CC 0%, #FFDAB9 63%, #e2a269 70%, #5fd15f 75%, #cdfb98c0 100%) !important;
    background-image: url('https://github.com/PokeMiners/pogo_assets/blob/master/Images/Catch%20Card/CatchCard_TypeBG_Normal.png?raw=true') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    position: relative;
    overflow: hidden;
    --flare-color-1: rgba(255, 255, 255, 0.15);
    --flare-color-2: rgba(255, 240, 200, 0.6);
    --flare-color-3: rgba(255, 230, 180, .85);
}

/* ===========
   POISON TYPE
   =========== */
.type-bg-poison {
    background: linear-gradient(135deg, #1a0033 0%, #0f0028 25%, #1a004d 50%, #0a001f 75%, #1a0040 100%) !important;
    background-image: url('https://github.com/PokeMiners/pogo_assets/blob/master/Images/Catch%20Card/CatchCard_TypeBG_Poison.png?raw=true') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    position: relative;
    overflow: hidden;
    --flare-color-1: rgba(138, 43, 226, 0.15);
    --flare-color-2: rgba(138, 43, 226, 0.6);
    --flare-color-3: rgba(75, 0, 130, 0.85);
}

/* =========
   ROCK TYPE
   ========= */
.type-bg-rock {
    background: linear-gradient(180deg, #87CEEB 0%, #B0D8F0 100%) !important;
    background-image: url('https://github.com/PokeMiners/pogo_assets/blob/master/Images/Catch%20Card/CatchCard_TypeBG_Rock.png?raw=true') !important;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    position: relative;
    overflow: hidden;
    --flare-color-1: rgba(255, 255, 255, 0.15);
    --flare-color-2: rgba(200, 200, 200, 0.6);
    --flare-color-3: rgba(160, 160, 160, 0.85);
}

/* ==========
   STEEL TYPE
   ========== */
@keyframes steel-glint {
    0% {
        transform: translateX(-150%) translateY(-150%);
        opacity: 0;
    }
    50% {
        opacity: 1;
    }
    100% {
        transform: translateX(150%) translateY(150%);
        opacity: 0;
    }
}

.type-bg-steel {
    background: 
        radial-gradient(ellipse at center, 
            #B0C4DE 0%, 
            #8FA5C0 40%, 
            #6E8CA0 100%) !important;
    position: relative;
    overflow: hidden;
}

.type-bg-steel::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: linear-gradient(135deg,
        transparent 0%,
        transparent 45%,
        rgba(255, 255, 255, 0.8) 48%,
        rgba(255, 255, 255, 1) 50%,
        rgba(255, 255, 255, 0.8) 52%,
        transparent 55%,
        transparent 100%);
    animation: steel-glint 4s ease-in-out infinite;
    z-index: 0;
}

.type-bg-steel img {
    position: relative;
    z-index: 1;
}

/* ============
   PSYCHIC TYPE
   ============ */
@keyframes psychic-pulse {
    0% {
        transform: scale(0.3) rotate(0deg);
        opacity: 0;
    }
    50% {
        opacity: 0.6;
    }
    100% {
        transform: scale(2) rotate(180deg);
        opacity: 0;
    }
}

.type-bg-psychic {
    background: radial-gradient(circle at center, #1a0b2e 0%, #0d0520 100%) !important;
    position: relative;
    overflow: hidden;
}

.type-bg-psychic::before,
.type-bg-psychic::after {
    content: '';
    position: absolute;
    top: 33%;
    left: 33%;
    transform: translate(-50%, -50%);
    width: 300px;
    height: 300px;
    border: 4px solid transparent;
    border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
    background: 
        radial-gradient(circle, 
            transparent 40%, 
            rgba(255, 51, 255, 0.4) 50%, 
            rgba(255, 51, 255, 0.6) 60%, 
            rgba(255, 51, 255, 0.3) 70%, 
            transparent 80%
        );
    animation: psychic-pulse 4s ease-out infinite;
    z-index: 0;
}

.type-bg-psychic::after {
    animation-delay: 2s;
    opacity: 0;
    background: 
        radial-gradient(circle, 
            transparent 40%, 
            rgba(200, 0, 255, 0.3) 50%, 
            rgba(200, 0, 255, 0.5) 60%, 
            rgba(200, 0, 255, 0.2) 70%, 
            transparent 80%
        );
    border-radius: 70% 30% 30% 70% / 70% 70% 30% 30%;
}

.type-bg-psychic img {
    position: relative;
    z-index: 1;
}

/* =========
   FIRE TYPE
   ========= */
@keyframes ember-rotate-1 {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

@keyframes ember-rotate-2 {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

.type-bg-fire {
    background: linear-gradient(180deg, #ff6b9d 0%, #ff8c42 50%, #ffa94d 100%) !important;
    position: relative;
    overflow: hidden;
}

.type-bg-fire::before {
    content: '';
    position: absolute;
    /* Position pivot point off-screen to the bottom-right */
    bottom: -150%;
    right: -150%;
    width: 400%;
    height: 400%;
    /* Random scattered embers instead of grid */
    background-image: 
        radial-gradient(circle, rgba(255, 120, 0, 0.9) 2px, transparent 2px),
        radial-gradient(circle, rgba(255, 200, 50, 0.8) 1.5px, transparent 1.5px),
        radial-gradient(circle, rgba(255, 150, 30, 0.7) 2.5px, transparent 2.5px),
        radial-gradient(circle, rgba(255, 180, 80, 0.6) 1px, transparent 1px),
        radial-gradient(circle, rgba(255, 140, 60, 0.8) 2px, transparent 2px),
        radial-gradient(circle, rgba(255, 210, 100, 0.7) 1.5px, transparent 1.5px);
    background-size: 
        139px 197px,
        211px 283px,
        173px 241px,
        107px 163px,
        227px 311px,
        151px 223px;
    background-position: 
        17% 23%,
        53% 67%,
        89% 41%,
        31% 79%,
        71% 13%,
        43% 97%;
    animation: ember-rotate-1 45s linear infinite;
    transform-origin: center center;
    z-index: 0;
}

.type-bg-fire::after {
    content: '';
    position: absolute;
    /* Position pivot point off-screen to the top-left */
    bottom: -125%;
    right: -125%;
    width: 400%;
    height: 400%;
    /* Different random ember pattern */
    background-image: 
        radial-gradient(circle, rgba(255, 130, 20, 0.8) 2px, transparent 2px),
        radial-gradient(circle, rgba(255, 190, 70, 0.7) 1.5px, transparent 1.5px),
        radial-gradient(circle, rgba(255, 160, 50, 0.9) 2.5px, transparent 2.5px),
        radial-gradient(circle, rgba(255, 200, 90, 0.6) 1px, transparent 1px),
        radial-gradient(circle, rgba(255, 170, 80, 0.8) 2px, transparent 2px),
        radial-gradient(circle, rgba(255, 220, 110, 0.7) 1.5px, transparent 1.5px);
    background-size: 
        193px 269px,
        157px 229px,
        233px 307px,
        127px 181px,
        199px 277px,
        179px 251px;
    background-position: 
        61% 37%,
        19% 83%,
        77% 11%,
        39% 59%,
        91% 73%,
        27% 47%;
    animation: ember-rotate-2 55s linear infinite reverse;
    transform-origin: center center;
    z-index: 0;
}

.type-bg-fire img {
    position: relative;
    z-index: 1;
}

/*  ==========
    WATER TYPE
    ========== */
@keyframes bubble-group-1 {
    0% {
        transform: translateY(-100px) rotate(0deg);
        opacity: 0;
    }
    10% {
        transform: translateY(0) rotate(0deg);
        opacity: 0;
    }
    15% {
        opacity: 0.8;
    }
    95% {
        opacity: 0;
    }
    100% {
        transform: translateY(-500px) rotate(-15deg);
        opacity: 0;
    }
}

@keyframes bubble-group-2 {
    0%, 30% {
        transform: translateY(-100px) rotate(0deg);
        opacity: 0;
    }
    40% {
        transform: translateY(0) rotate(0deg);
        opacity: 0;
    }
    45% {
        opacity: 0.75;
    }
    95% {
        opacity: 0;
    }
    100% {
        transform: translateY(-500px) rotate(25deg);
        opacity: 0;
    }
}

.type-bg-water {
    background: radial-gradient(ellipse at center, #4A90A4 0%, #2F6B7C 50%, #1E4D5C 100%) !important;
    position: relative;
    overflow: visible;
}

.type-bg-water::before {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image:
        radial-gradient(circle 8px at 18% 92%, rgba(255, 255, 255, 0.8) 0%, rgba(173, 216, 230, 0.6) 50%, transparent 80%),
        radial-gradient(circle 10px at 52% 90%, rgba(255, 255, 255, 0.75) 0%, rgba(173, 216, 230, 0.55) 50%, transparent 80%);
    animation: bubble-group-1 8s ease-in infinite;
    z-index: 2;
    pointer-events: none;
}

.type-bg-water::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-image:
        radial-gradient(circle 7px at 30% 93%, rgba(255, 255, 255, 0.7) 0%, rgba(173, 216, 230, 0.5) 50%, transparent 80%),
        radial-gradient(circle 9px at 75% 91%, rgba(255, 255, 255, 0.75) 0%, rgba(173, 216, 230, 0.55) 50%, transparent 80%),
        radial-gradient(circle 8.5px at 88% 92%, rgba(255, 255, 255, 0.8) 0%, rgba(173, 216, 230, 0.6) 50%, transparent 80%);
    animation: bubble-group-2 13s ease-in infinite;
    z-index: 2;
    pointer-events: none;
}

.type-bg-water img {
    position: relative;
    z-index: 1;
}

/* =============
   ELECTRIC TYPE
   ============= */
@keyframes intercloud-lightning {
    0%, 1.5% {
        opacity: 1;
        top: 8%;
        left: 15%;
    }
    2%, 47% {
        opacity: 0;
        top: 8%;
        left: 15%;
    }
    47.5% {
        opacity: 0;
        top: 18%;
        right: 25%;
        left: auto;
    }
    48%, 49.5% {
        opacity: 1;
        top: 18%;
        right: 25%;
        left: auto;
    }
    50%, 50.5% {
        opacity: 0;
        top: 18%;
        right: 25%;
        left: auto;
    }
    51%, 52.5% {
        opacity: 1;
        top: 18%;
        right: 25%;
        left: auto;
    }
    53%, 97% {
        opacity: 0;
        top: 18%;
        right: 25%;
        left: auto;
    }
    97.5% {
        opacity: 0;
        top: 12%;
        left: 70%;
        right: auto;
    }
    98%, 99.5% {
        opacity: 1;
        top: 12%;
        left: 70%;
        right: auto;
    }
    100% {
        opacity: 0;
        top: 12%;
        left: 70%;
        right: auto;
    }
}

@keyframes lightning-bolt-flash {
    0%, 2% {
        opacity: 0.9;
        transform: translate(-50%, -50%) rotate(-8deg);
    }
    2.5%, 29% {
        opacity: 0;
        transform: translate(-50%, -50%) rotate(-8deg);
    }
    29.5% {
        opacity: 0;
        transform: translate(-50%, -50%) rotate(5deg);
    }
    30%, 32% {
        opacity: 0.9;
        transform: translate(-50%, -50%) rotate(5deg);
    }
    32.5%, 59% {
        opacity: 0;
        transform: translate(-50%, -50%) rotate(5deg);
    }
    59.5% {
        opacity: 0;
        transform: translate(-50%, -50%) rotate(-15deg);
    }
    60%, 62% {
        opacity: 0.9;
        transform: translate(-50%, -50%) rotate(-15deg);
    }
    62.5%, 63% {
        opacity: 0;
        transform: translate(-50%, -50%) rotate(-15deg);
    }
    63.25% {
        opacity: 0;
        transform: translate(-50%, -50%) rotate(3deg);
    }
    63.5%, 65.5% {
        opacity: 0.9;
        transform: translate(-50%, -50%) rotate(3deg);
    }
    66%, 100% {
        opacity: 0;
        transform: translate(-50%, -50%) rotate(3deg);
    }
}

.type-bg-electric {
    background: linear-gradient(180deg, #2C3E50 0%, #34495E 50%, #4A5F7F 100%) !important;
    position: relative;
    overflow: hidden;
}

/* Intercloud lightning glow */
.type-bg-electric::before {
    content: '';
    position: absolute;
    top: 8%;
    left: 15%;
    width: 180px;
    height: 180px;
    background: radial-gradient(circle, rgba(255, 255, 220, 0.5) 0%, rgba(255, 255, 180, 0.3) 30%, rgba(255, 255, 120, 0.15) 60%, transparent 80%);
    border-radius: 50%;
    filter: blur(40px);
    animation: intercloud-lightning 19s ease-in-out infinite;
    z-index: 1;
}

/* Lightning bolt - diagonal from upper-left to lower-right */
.type-bg-electric::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(-8deg);
    width: 100%;
    height: 150%;
    background: linear-gradient(155deg, 
        transparent 0%,
        transparent 1%,
        #E0F0FF 2%,
        #FFFFFF 4%,
        #D6EBFF 8%,
        #FFFFFF 12%,
        #E0F0FF 18%,
        #FFFFFF 24%,
        #D6EBFF 30%,
        #FFFFFF 36%,
        #E0F0FF 42%,
        #FFFFFF 48%,
        #D6EBFF 54%,
        #FFFFFF 60%,
        #E0F0FF 66%,
        #FFFFFF 72%,
        #D6EBFF 78%,
        #FFFFFF 84%,
        #E0F0FF 90%,
        #FFFFFF 95%,
        transparent 98%,
        transparent 100%
    );
    clip-path: polygon(
        0% 0%,
        1% 0%,
        10% 15%,
        11% 15%,
        25% 10%,
        26% 10%,
        35% 17%,
        36% 17%,
        37% 45%,
        38% 45%,
        50% 50%,
        51% 50%,
        55% 48%,
        56% 48%,
        55% 55%,
        56% 55%,
        70% 60%,
        71% 60%,
        68% 75%,
        69% 75%,
        83% 73%,
        84% 73%,
        87% 90%,
        88% 90%,
        100% 100%,
        99% 100%,
        86% 91%,
        85% 91%,
        82% 74%,
        81% 74%,
        67% 76%,
        66% 76%,
        69% 61%,
        68% 61%,
        54% 56%,
        53% 56%,
        54% 49%,
        53% 49%,
        49% 51%,
        48% 51%,
        36% 46%,
        35% 46%,
        34% 18%,
        33% 18%,
        24% 11%,
        23% 11%,
        9% 16%,
        8% 16%
    );
    opacity: 0;
    filter: drop-shadow(0 0 8px rgba(255, 235, 59, 0.9)) drop-shadow(0 0 12px rgba(255, 235, 59, 0.6));
    animation: lightning-bolt-flash 20s ease-in-out infinite;
    z-index: 2;
}

.type-bg-electric img {
    position: relative;
    z-index: 3;
}


/* ============================================
   MOBILE OPTIMIZATIONS
   ============================================ */
@media (max-width: 768px) {
    .type-bg-electric::before {
        filter: blur(20px);
    }
    .type-bg-psychic::before,
    .type-bg-psychic::after {
        width: 150px;
        height: 150px;
    }

    .type-bg-dragon::before,
    .type-bg-dragon::after {
        opacity: 0.5;
    }
    
    .type-bg-fairy::before {
        width: 40px;
        height: 40px;
    }
    
    .type-bg-fairy::after {
        width: 35px;
        height: 35px;
    }
    
    .type-bg-grass::before,
    .type-bg-grass::after {
        background-size: 35px 65px, 45px 75px, 40px 55px;
    }
}
